<xml xmlns="https://developers.google.com/blockly/xml"><block type="pxt-on-start" id="tmee~EE9/~yn!lvbcU@f" x="0" y="0"><comment>enviro:bit というボードをつないで, 温度、湿度、気圧、明るさを軽装して、シリアルポートに出力します。&#10;&#10;makecode エディタ中の "コンソールを表示 デバイス" をクリックすると、シリアルポートへの出力をグラフ表示でみることがえきます。&#10;&#10;USB ケーブルをつないでいる Mac や Raspberry PI 側では、つぎのようなコードで知り合うポートを読み取ることができます。&#10;----------------------&#10;import serial   # pip3 install pyserial&#10;&#10;# ls -l /dev/tty.*&#10;ser = serial.Serial('/dev/tty.usbmodem14202', 115200)&#10;microbitdata = ''&#10;while True:&#10;    line = str(ser.readline(), 'utf-8')&#10;    print(line, end="")&#10;ser.close()&#10;-------------&#10;(raspberry i の場合は '/dev/ttyACM0' とする&#10;&#10;参考情報&#10;&#10;- https://mb.d-side.info/2019/01/06/microbit%E3%81%A7%E6%B8%A9%E5%BA%A6%E3%83%BB%E6%B9%BF%E5%BA%A6%E3%83%BB%E6%B0%97%E5%9C%A7%E3%83%BB%E6%98%8E%E3%82%8B%E3%81%95%E3%81%AA%E3%81%A9%E3%82%92%E8%AA%BF%E3%81%B9%E3%82%89%E3%82%8C%E3%82%8B/&#10;  micro:bitで温度・湿度・気圧・明るさなどを調べられる新しい拡張ボード&#10;&#10;- http://serverarekore.blogspot.com/2019/12/microbitraspberry-piusb.html&#10;  microbitとRaspberry PiでUSBシリアル通信を通して温度を取得する&#10;&#10;- https://qiita.com/m_ryusei/items/02f16adfb9c0109a16c7&#10;  weather:bitとMetabaseで温度、湿度、気圧を可視化&#10;</comment><statement name="HANDLER"><block type="device_show_leds" id="d]nO5+c#~4NeclZ!-!^5"><field name="LEDS">`&#10;        . . . . . &#10;        . . . . . &#10;        . . . . . &#10;        . . . . . &#10;        . . . . .&#10;        `</field></block></statement></block><block type="device_forever" id="Y,i`C,A1~R~^|B84dUYE" x="256" y="-7"><statement name="HANDLER"><block type="device_led_toggle" id="u^poeSOcCfDKh=t!A+Kx"><value name="x"><shadow type="math_number_minmax" id="l2xLKY)W.EXwZ91gWGq;"><mutation min="0" max="4" label="X" precision="1"/><field name="SLIDER">2</field></shadow></value><value name="y"><shadow type="math_number_minmax" id="y0G_b{Em-@U+C=P$4/4("><mutation min="0" max="4" label="Y" precision="1"/><field name="SLIDER">2</field></shadow></value><next><block type="serial_writevalue" id="^AZ4~-3w8RbZQc65F](K"><value name="name"><shadow type="text" id="68js%Io(!O=tGx3X2$LZ"><field name="TEXT">T</field></shadow></value><value name="value"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="envirobit_get_temperature_decimal" id="s?YL;qJ!s}P.;OdLFLDN"/></value><next><block type="serial_writevalue" id="^9ypum3]9#!,%`A,e1Jn"><value name="name"><shadow type="text" id="-wD.~*CvI5Z[s?0sv+AP"><field name="TEXT">H</field></shadow></value><value name="value"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="envirobit_get_humidity_decimal" id="!_$%sXfcDfA?-Y=C^)0o"/></value><next><block type="serial_writevalue" id="joWpS2#QE-mrUVP`Ld}C"><value name="name"><shadow type="text" id="xjya||X4nrjYWv8jiiaC"><field name="TEXT">P</field></shadow></value><value name="value"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="envirobit_get_pressure_decimal" id="w{Y:zv68N%zCr5rEYO+B"/></value><next><block type="serial_writevalue" id="W8}!#6`op#2g/oa}ZZ$3"><value name="name"><shadow type="text" id="a0p%0Tmp-zP[8K%8;}Vu"><field name="TEXT">L</field></shadow></value><value name="value"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="envirobit_get_light_clear" id="riqYSs[ECYA^]]ckpMMv"/></value><next><block type="device_pause" id="blhV)z%#RUyUvA#vU(DU"><value name="pause"><shadow type="timePicker" id="_#M*c:S8`{.0yQ$D/~st"><field name="ms">1000</field></shadow></value><next><block type="device_led_toggle" id="rnWyo~]{{%mX/`uz4(J|"><value name="x"><shadow type="math_number_minmax" id=")-D|R*klOvtntBjuL^fa"><mutation min="0" max="4" label="X" precision="1"/><field name="SLIDER">2</field></shadow></value><value name="y"><shadow type="math_number_minmax" id="JACi_qOs|D0Z~q]guny["><mutation min="0" max="4" label="Y" precision="1"/><field name="SLIDER">2</field></shadow></value><next><block type="device_pause" id="b9:FGQ?~.:djE@[/@fas"><value name="pause"><shadow type="timePicker" id=";yQ)Pyz[,C6[xns{G04e"><field name="ms">4000</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="device_forever" id="I7(A`b~6]:/Hk;87`EZc" x="6" y="315"><statement name="HANDLER"><block type="device_plot" id="02H@/Wh6gyE9rkaYw]8c"><value name="x"><shadow type="math_number_minmax" id="V!}K{%aEZh=.oh+G2DbA"><mutation min="0" max="4" label="X" precision="1"/><field name="SLIDER">0</field></shadow></value><value name="y"><shadow type="math_number_minmax" id="vcvW|@k.Rqd;Pv@vnIrw"><mutation min="0" max="4" label="Y" precision="1"/><field name="SLIDER">0</field></shadow></value><next><block type="device_pause" id="rx%_xr~{t@C5Q/}|PoIm"><value name="pause"><shadow type="timePicker" id="[-MV][@;=li./cK5~V#!"><field name="ms">100</field></shadow></value><next><block type="device_unplot" id=",aJ1}=ZxxT#]omj$Dh~N"><value name="x"><shadow type="math_number_minmax" id="61YEr0^r(#p~j489BFv{"><mutation min="0" max="4" label="X" precision="1"/><field name="SLIDER">0</field></shadow></value><value name="y"><shadow type="math_number_minmax" id="EK}7yNDVj[h[`L_:1hx6"><mutation min="0" max="4" label="Y" precision="1"/><field name="SLIDER">0</field></shadow></value><next><block type="device_pause" id="A!{+%k|!P%)}tiUItW5}"><value name="pause"><shadow type="timePicker" id="(rZA9rL:c/#h2_JG9J#U"><field name="ms">900</field></shadow></value></block></next></block></next></block></next></block></statement></block></xml>